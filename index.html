<!DOCTYPE html>
<html lang="ja" ng-app="nationalpark-map">
  <head>
    <meta charset="UTF-8">
    <title>国立公園オンラインマップ</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <link rel="apple-touch-icon" href="./img/apple-touch-icon.png">
    <link rel="stylesheet" href="./css/style.css">
    <!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.7.1/loading-bar.min.css" type="text/css" media="all" /> -->
  </head>

  <body ng-controller="mainCtrl">
    <div
      ng-class="{nav_toggler_close:navOpen, nav_toggler_open:!navOpen}"
      ng-click="toggleNav()">
      <ng-md-icon icon="keyboard_arrow_left" style="fill:#efefee" size="32"></ng-md-icon>
    </div>
    <div
      ng-class="{my_location_close:navOpen, my_location_open:!navOpen}"
      ng-click="locateMe()">
        <ng-md-icon icon="{{locatingIcon}}" ng-style="{'fill':'#efefee', 'opacity':locationIconColorOpacity}" size="32"></ng-md-icon>
    </div>
    <header ng-class="{nav_open:navOpen, nav_close:!navOpen}">
        <nav id="navigation" ng-controller="navCtrl">
          <h1 ng-swipe-left="toggleNav()"><a href="#">日本の国立公園</a></h1>
          <ul id="#mainMenu">
            <li>
              <h2 class="sr-only">国立公園のリスト</h2>
              <ul ng-swipe-left="toggleNav()">
                  <li ng-repeat="(npid, npinfo) in npAbstract" ng-class="{active: npid===selected, selectable: npid!==selected}">
                    <a class="npitem" ng-click="onSelect(npid, true)" ng-class="{active: npid===selected, selectable: npid!==selected}" ng-bind="npinfo.name + '国立公園'"></a>
                    <!-- <span class="nav-size">
                      <span class="nav-size_value" ng-bind="npinfo.size"></span>
                      <span class="nav-size_unit" ng-bind="npinfo.unit"></span>
                    </span> -->
                    </a>
                  </li>
              </ul>
            </li>
            <li class="table-wrapper" ng-swipe-left="toggleNav()">
              <h2 class="sr-only">凡例</h2>
              <table class="legend" ng-show="fillStyles" id="legend">
                <tbody>
                  <tr ng-repeat="(grade, fillStyle) in fillStyles">
                    <th class="grade" ng-bind="grade"></th>
                    <td class="color-template-background">
                      <div
                        class="color-template"
                        ng-style="{'background-color': fillStyle, 'opacity': opacity, 'border-width':'3px', 'border-color': lineColor ,'border-style': 'solid'}"
                        ng-bind="fillStyle">
                       </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </li>
            <!-- <li>
              <h2>トラッキング</h2>
              <form id="trackingForm">
                <input type="checkbox" id="tracking" ng-model="tracking">
                <label for="tracking">トラッキングを有効にする</label>
              </form>
            </li> -->
            <li>
              <h2 class="sr-only">スタイル</h2>
              <form id="styleForm">
                <ul class="stylers">
                  <li class="selectable opacity">
                    <label for="opacity">不透明度</label>
                      <input id="opacity" type="range" min="0" max="1" value="0.4" step="0.01" ng-model="opacity" ng-init="opacity=0.4">
                      <span class="style-unit" ng-bind="(opacity * 100 | number:0) + '%'"></span>
                  </li>
                  <li class="selectable line-color" ng-swipe-left="toggleNav()">
                    <label for="line-color">線色</label>
                      <input id="line-color" type="color" value="#eeeeee" ng-model="lineColor" ng-style="{color: lineColor}" ng-init="lineColor='#eeeeee'">
                  </li>
                  <li class="selectable line-width" ng-swipe-left="toggleNav()">
                    <label for="line-width">線幅</label>
                      <input id="line-width" type="number" value="1.5" step="0.5" min="0" ng-model="lineWidth" ng-init="lineWidth=1.5">
                      <span class="style-unit">px</span>
                  </li>
                </ul>
              </form>
            </li>
            <li class="about" ng-swipe-left="toggleNav()">
              <h2>このサイトについて</h2>
              <p>
              このサイト「国立公園オンラインマップ」は、<a href="http://www.biodic.go.jp/trialSystem/top.html">自然環境情報GIS</a> <a href="http://www.biodic.go.jp/trialSystem/info/nps.html">国立公園の区域等</a>（<a href="http://www.biodic.go.jp/">環境省生物多様性センター</a>）のデータを加工し作成したものです。国立公園のポリゴンデータには、<a href="http://www.biodic.go.jp/copyright/index.html">政府標準利用規約（第1.0版）</a>が適用されています。このサイトに表示される公園区域は、あくまで目安に留めておくことをお勧めします。正確な国立公園の区域や地種区分等を調べる際は、当該国立公園を所管する環境省の自然保護官事務所等に問い合わせを行うことをお勧めします。
              </p>
              <p>
                <a href="https://github.com/KamataRyo/nationalpark-map">
                  <ng-md-icon icon="github-circle" style="fill: #efefee;" size="48px"></ng-md-icon>
                </a>
            </li>
          </ul>
      </nav>
    </header>

    <div ng-controller="mapCtrl" id="content">
      <div map-lazy-load="https://maps.google.com/maps/api/js">
        <ng-map zoom="{{zoom}}" center="{{latlng}}">
          <marker position="{{pin}}"></marker>
        </ng-map>
      </div>
    </div>


    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
    <script src="//maps.googleapis.com/maps/api/js?key=AIzaSyCaIyiWRQe5ZjR1MPAWev0o_j9QPbTsM8E"></script>
    <script src="./js/lib/ngmap/build/scripts/ng-map.min.js"></script><!-- cdn? -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-material-icons/0.6.0/angular-material-icons.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-touch/1.4.8/angular-touch.min.js"></script>
    <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.7.1/loading-bar.min.js"></script> -->
    <script src="./js/app.js"></script>
  </body>
</html>
